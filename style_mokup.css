:root{
  --brand:#ff6a3d;
  --brand-2:#ffb86b;
  --accent:#00c2b2;
  --ink:#0a0d12;
  --muted:rgba(10,13,18,.68);
  --bg-1:#f8fafc; --bg-2:#eef2f7;
  --card:#ffffff; --radius:16px; --wrap:1240px;
  --space:28px;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:var(--ink);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));scroll-behavior:smooth;scroll-padding-top:0;}
body{scroll-snap-type:y mandatory;}
.wrap{max-width:var(--wrap);margin:0 auto;padding:0 28px}

/* Header / nav */
.site-header{position:sticky;top:12px;z-index:40}
.nav{display:flex;gap:18px;align-items:center;justify-content:space-between;background:rgba(255,255,255,.78);backdrop-filter:blur(10px);padding:12px 18px;border-radius:14px;box-shadow:0 10px 30px rgba(10,12,15,.06)}
.brand{font-weight:800}
.nav ul{display:flex;gap:16px;list-style:none;padding:0;margin:0}
.nav a{font-weight:600;text-decoration:none;color:var(--ink)}
.nav a:hover{color:var(--accent)}
.theme{background:transparent;border:1px solid rgba(0,0,0,.08);padding:8px 10px;border-radius:10px;cursor:pointer}

/* Sections */
section{padding:120px 0;position:relative}
.snap{scroll-snap-align:start;scroll-snap-stop:always;min-height:100svh;display:grid;place-items:center;padding:8vh 0}
.section-title{font-size:clamp(24px,3.2vw,36px);margin:0 0 12px 0;font-weight:800}
.section-title::after{content:"";display:block;width:64px;height:4px;border-radius:4px;margin-top:8px;background:linear-gradient(90deg,var(--brand),var(--accent))}
.lede{max-width:900px;color:var(--muted)}

/* Hero */
.hero{min-height:92vh;display:grid;place-items:center;padding-top:80px;position:relative;overflow:hidden;background:linear-gradient(180deg,var(--bg-1) 0%, var(--bg-2) 100%);} 
.hero-inner{position:relative;z-index:3;display:grid;grid-template-columns:1fr;gap:10px;justify-items:center;text-align:center} 
.hero h1{font-size:clamp(36px,7vw,64px);margin:0;font-weight:800}
.accent-text{color:var(--brand)}
.hero-sub{color:var(--muted);margin-top:8px}
.cta{display:flex;gap:12px;margin-top:18px;justify-content:center}
.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:999px;font-weight:800;text-decoration:none;cursor:pointer;transition:transform .2s}
.btn.primary{background:var(--brand);color:#fff;box-shadow:0 10px 28px rgba(255,106,61,.18)}
.btn.ghost{border:1px solid rgba(0,0,0,.08)}
.portrait{width:220px;height:220px;border-radius:999px;object-fit:cover;border:4px solid rgba(255,255,255,.9);box-shadow:0 30px 80px rgba(255,106,61,.15);} 
.flame-wrap{width:clamp(420px,52vw,820px);height:clamp(240px,30vw,380px);position:relative;margin-top:-18px;}
#flame{position:absolute;inset:0;width:100%;height:100%;pointer-events:none;mix-blend-mode:screen}
.pill-row{display:flex;flex-wrap:wrap;gap:12px;margin-top:14px;justify-content:center}
.pill{padding:6px 12px;border-radius:999px;background:#fff;border:1px solid rgba(0,0,0,.06);font-size:.92rem}
.hero-bg{position:absolute;inset:-10% -10% -20% -10%;z-index:1;background:
  radial-gradient(60% 40% at 50% 28%, rgba(22,26,32,.65) 0%, rgba(22,26,32,.35) 35%, rgba(22,26,32,0) 70%),
  radial-gradient(80% 60% at 50% 90%, rgba(255,106,61,.12) 0%, rgba(255,106,61,0) 60%);
  filter:blur(26px);opacity:.9}
.avatar{position:relative;z-index:4}
.avatar .glow{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:260px;height:260px;border-radius:50%;background:radial-gradient(circle, rgba(255,255,255,.85) 0%, rgba(255,255,255,.4) 48%, rgba(255,255,255,0) 60%),
  radial-gradient(circle at 50% 80%, rgba(255,106,61,.15) 0%, rgba(255,106,61,0) 60%);filter:blur(8px);z-index:-1}

/* About */
.about-layout{display:grid;grid-template-columns:1.2fr .8fr;gap:var(--space);margin-top:18px}
.stack{display:grid;gap:var(--space)}
.card{background:var(--card);border:1px solid rgba(6,9,12,.06);border-radius:16px;box-shadow:0 12px 28px rgba(6,9,12,.06);padding:18px}
.card h3{margin:0 0 8px 0}

/* Skills */
.skills-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space);margin-top:18px}
.skill{background:var(--card);border:1px solid rgba(6,9,12,.08);border-radius:14px;padding:16px;transform-style:preserve-3d}
.skill-label{font-weight:700;margin-bottom:8px}
.skill-bar{height:10px;background:#e6ebf1;border-radius:999px;overflow:hidden}
.skill-fill{height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2));transition:width 1.2s ease}

/* Grid utility */
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space);margin-top:18px}
@media(max-width:980px){.grid-3{grid-template-columns:1fr 1fr}}
@media(max-width:680px){.grid-3{grid-template-columns:1fr}}

/* Projects */
.projects{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space);margin-top:18px}
.proj{position:relative;overflow:hidden;border-radius:16px;border:1px solid rgba(0,0,0,.08);transition:transform .15s}
.proj img{width:100%;display:block;transform:translateZ(0)}
.proj .meta{position:absolute;inset:auto 0 0 0;background:linear-gradient(180deg,transparent,rgba(0,0,0,.55));color:#fff;padding:16px}
.proj .readmore{position:absolute;top:12px;right:12px;background:rgba(255,255,255,.92);color:#111;padding:6px 12px;border-radius:999px;font-weight:700;text-decoration:none}

/* Publications */
.filters{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
.pub-list{display:grid;grid-template-columns:1fr;gap:12px}
.pub{background:var(--card);border:1px solid rgba(0,0,0,.08);border-radius:16px;padding:14px}
.pub cite{font-family:Merriweather,serif}
.pub-actions{margin-top:8px}

/* Timeline */
.timeline{position:relative;margin-top:12px}
.timeline::before{content:"";position:absolute;left:18px;top:0;bottom:0;width:3px;background:linear-gradient(var(--brand),var(--brand-2))}
.t-item{display:grid;grid-template-columns:40px 1fr;gap:14px;margin:22px 0}
.t-dot{width:14px;height:14px;border-radius:50%;background:var(--brand);margin-top:6px}
.t-two{display:grid;grid-template-columns:1fr 1fr;gap:var(--space)}
.t-card{background:var(--card);border:1px solid rgba(0,0,0,.08);border-radius:16px;padding:16px}
.t-card.role{background:linear-gradient(180deg,#fff4ea,#ffd7ba);border:1px solid #ffd2b0;box-shadow:0 10px 24px rgba(255,106,61,.12)}
.t-card.resp{box-shadow:0 10px 24px rgba(0,194,178,.12)}
.resp ul{margin:8px 0 0 18px}

/* Contact */
.contact{display:grid;grid-template-columns:1fr 1fr;gap:var(--space)}
.form{background:#fff;border:1px solid #e6e8eb;border-radius:16px;padding:18px}
.form input,.form textarea{width:100%;padding:12px 14px;margin:8px 0;border:1px solid #d7dade;border-radius:12px}
.send{width:100%;padding:12px;border:none;border-radius:12px;background:var(--brand);color:#fff;font-weight:800}

/* Footer */
footer{padding:22px 0;color:var(--muted)}

/* Responsive */
@media(max-width:1100px){.skills-grid{grid-template-columns:repeat(2,1fr)}.projects{grid-template-columns:repeat(2,1fr)}.about-layout{grid-template-columns:1fr}}
@media(max-width:680px){.skills-grid{grid-template-columns:1fr}.projects{grid-template-columns:1fr}}

/* Dark */
body.dark{--ink:#e7eef6;--muted:rgba(231,238,246,.75);--bg-1:#080e14;--bg-2:#0b1118;--card:rgba(255,255,255,.04)}
body.dark .nav{background:rgba(10,12,15,.5)}

/* Nav (mobile) */
.nav-right{display:flex;align-items:center;gap:12px}
.menu{display:none;background:transparent;border:1px solid rgba(0,0,0,.1);padding:8px 10px;border-radius:10px;cursor:pointer}
@media(max-width:860px){
  .menu{display:inline-flex}
  .nav-right{position:absolute;top:64px;right:14px;left:14px;display:block;background:rgba(255,255,255,.96);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.06);border-radius:12px;box-shadow:0 18px 40px rgba(6,9,12,.12);padding:10px;transform-origin:top right;transform:scale(.98);opacity:0;pointer-events:none;transition:opacity .2s, transform .2s}
  .nav.open .nav-right{opacity:1;transform:scale(1);pointer-events:auto}
  .nav-right #primaryNav{display:grid;grid-template-columns:1fr;gap:6px}
  .nav-right #primaryNav a{padding:10px 12px;border-radius:10px}
}

/* Overlay */
.overlay{position:fixed;inset:0;background:#fff;z-index:1000;display:none}
.overlay.open{display:block}
.overlay .ov-wrap{max-width:1000px;margin:0 auto;padding:24px}
.ov-head{display:flex;justify-content:space-between;align-items:center;gap:12px;position:sticky;top:0;background:#fff;padding:12px 0;border-bottom:1px solid #eef1f4}
.ov-title{font-weight:800;font-size:22px}
.ov-close{border:1px solid rgba(0,0,0,.1);background:transparent;border-radius:10px;padding:8px 12px;cursor:pointer}
.ov-grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:16px}
.ov-tools{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.chip{padding:6px 10px;border-radius:999px;border:1px solid #e0e3e7;background:#f9fbfd;cursor:pointer}
.chip.active{border-color:var(--accent)}
.search{flex:1;min-width:240px;border:1px solid #d7dade;border-radius:10px;padding:8px 12px}
.doi{font-size:.92rem;color:#555}
.bib{margin-top:6px}

/* Year rail */
.exp-wrap{display:grid;grid-template-columns:160px 1fr;gap:24px}
.year-rail{position:sticky;top:110px;align-self:start}
.year-rail .year{display:block;padding:8px 10px;border-radius:10px;color:#111;text-decoration:none;border:1px solid transparent}
.year-rail .year.active{border-color:var(--brand);background:linear-gradient(90deg,#fff, #fff8f4)}
@media(max-width:860px){.exp-wrap{grid-template-columns:1fr}.year-rail{display:none}}

/* Dark overlay */
body.dark .overlay{background:#0b1118}
body.dark .ov-head{background:#0b1118;border-bottom:1px solid rgba(255,255,255,.08)}
body.dark .search{background:rgba(255,255,255,.04);color:#e7eef6;border-color:rgba(255,255,255,.1)}

/* Unified meta/content boxes */
.metaBox{background:linear-gradient(180deg,#fff4ea,#ffd7ba);border:1px solid #ffd2b0;border-radius:16px;box-shadow:0 10px 24px rgba(255,106,61,.12)}
.contentBox{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px}

/* Flame rail */
.flame-rail{position:fixed;top:20vh;width:260px;height:360px;pointer-events:none;z-index:2;opacity:0;transition:opacity .4s ease, transform .6s cubic-bezier(.2,.8,.2,1);mix-blend-mode:screen;filter:drop-shadow(0 14px 40px rgba(255,106,61,.25))}
.flame-rail.show{opacity:1}
.flame-rail.left{left:0;transform:translateX(-10px)}
.flame-rail.right{right:0;transform:translateX(10px)}

/* Education layout */
.edu{display:grid;grid-template-columns:1fr;gap:22px;margin-top:18px}
.edu-item{display:grid;grid-template-columns:minmax(220px,0.6fr) 1fr;gap:18px;align-items:stretch}
.edu-meta{display:flex;flex-direction:column;justify-content:center;gap:6px;padding:16px;color:#101316}
.edu-meta strong{font-size:1.05rem}
.edu-meta span{opacity:.8}
.edu-degree.card{background:#fff}
@media(max-width:860px){.edu-item{grid-template-columns:1fr}.edu-meta{order:0}.edu-degree{order:1}}
